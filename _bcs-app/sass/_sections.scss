@import 'mixins';

html {
	height:100%;
}

body { 
	background:colors(white);
	height:100%;
	overflow:hidden;
}

article {
	background:colors(white);
	overflow:hidden;
	
	.menu-overlay {
		bottom:0;
		background:rgba(0,0,0,0.2);
		left:0;
		position:absolute;
		top:0;
		right:0;
		z-index:9999;
		visibility:hidden;
		opacity:0;
		@include prefix('transform',translate3d(0,0,0));
		@include prefix('transition', all 0.3s ease);
	}
}

.body {
	background: #666666;
	bottom: 0;
	color: #fff;
	display: block;
	height: 100%;
	left: 160px;
	overflow: scroll;
	position: absolute;
	text-align: center;
	top: 0;
	right: 0;
}

.menu-open {
	overflow:hidden;
	
	main,
	.search-toolbar,
	.titlebar,
	.exploring {
		@include prefix('transform',translate3d(270px,0,0));
	}
	
	.menu-overlay {
		visibility:visible;
		opacity:1;
		transition-delay:0s;
		@include prefix('transform',translate3d(270px,0,0));
	}
}

header {
	background:colors(white);
	border-right:solid 1px colors(gray-1);
	bottom:0;
	position:fixed;
	top:0;
	width:160px;
	z-index:999;
}

nav {
	float:left;
	margin:0;
	padding:0;
	
	a {
		display:block;
		border-bottom:solid 1px colors(gray-1);
		border-right:solid 1px colors(gray-1);
		color:colors(black);
		white-space: nowrap;
		@include modular_scale('font-size', 4);
		@include modular_scale('padding', 3 5);
	}
	
	a.selected {
		color:colors(blue);
	}
	
	a.branding {
		background:colors(blue);
		border-right:solid 1px colors(blue);
		display:block;
		padding:0 55px;
		width:50px;
	}
	
	.grid_1 {
		border-bottom:solid 1px colors(gray-1);
		border-right:solid 1px colors(gray-1);
	}

}

main {
	background:colors(white);
	bottom:0;
	display:block;
	left:0;
	position:absolute;
	right:0;
	top:55px;
	z-index:99;
	min-height:536px;
	overflow:scroll;
	overflow-x: hidden;
	overflow-y: scroll;
 	-webkit-overflow-scrolling: touch;
	@include prefix('transition', all 0.3s ease);
	
	.main-container {
		overflow-x:hidden;
		@include prefix('transition', all 0.7s ease);
	}
}

.search-open {
	main {
		top:115px;
	}
}

menu {
	background:colors(white);
	border-top:solid 20px colors(black);
	bottom:0;
	color:colors(black);
	display:block;
	position:fixed;
	top:0;
	width:270px;
	@include prefix('box-sizing',border-box);
			
	.menu-container {
		left:60px;
		position:absolute;
		top:0;
		bottom:0;
		right:0;
	}
	
	.alphabet {
		background:colors(white);
		opacity:0;
		padding:5px;
		position:absolute;
		top:90px;
		right:0; 
		z-index:999;
		a {
			font-size:14px;
			line-height:16px;
			display:block;
			text-align:center;
		}
	}
	
	.help {
		margin:0;
		padding:10px 0;
	}
			
	.button {
		display:block;
	}
			
	.copyright {
		font-size:12px;
		left:60px;
		line-height:16px;
		padding:20px;
		text-align:center;
		@include prefix('transition',all 0.3s ease);
	}
	
	.profile {
		padding:20px;
		@include prefix('transition',all 0.3s ease);
		text-align:center;
		
		.button {
			display:none;
		}
		
		.profile-bubble {
			color:colors(black);
			font-size:18px;
			font-weight:weight(extrabold);
			text-transform:uppercase;
			
			.circle {
				border:solid 3px #222;
				display:block;
				height:75px;
				margin:0 auto 5px;
				width:75px;
				border-radius:100px;
				overflow:hidden;
			}
		}
	}
	
	.navigation-spacer {
		height:250px;
	}
			
	.navigation {
		display:block;
		left:0;
		position:absolute;
		right:0;
		top:145px;
		@include prefix('transition',all 0.3s ease);
		
		.navigation-head {
			@include prefix('transition',all 0.3s ease);
			visibility:hidden; 
			opacity:0;
			margin-bottom:-43px;
		}
		
		a {
			background-color:#fff;
			background-repeat:no-repeat;
			background-position:180px center;
			border-bottom:solid 1px #efefef;
			color:colors(black);
			display:block;
			line-height:18px;
			font-size:18px;
			overflow:hidden;
			padding:12px 20px;
			@include prefix('transition',all 0.3s ease);
			@include prefix('box-sizing',border-box);
		}

		a.hasChild {
			background-image:url(../img/layout/navigation_arrow@3x.png);
			background-repeat:no-repeat;
			background-position:right center;
			background-size:45px 45px;
		}
		
		a.nav-back {
			background-color:#ededed;
			background-image:url(../img/layout/navigation_back@3x.png);
			background-repeat:no-repeat;
			background-position:left center;
			background-size:45px 45px;
			border-bottom:solid 1px #ccc;
		}
		
		a.active {
			background-color:#ededed;
			border-bottom:solid 1px #ccc;
		}
		
		a.loading {
			background-image:url(../img/layout/ajax-loader.gif);
			background-size:20px 20px;
			background-repeat:no-repeat;
			background-position:180px center;
		}
		
	}
	
	.browsing {
		.navigation {
			top:0;
			bottom:0;
		}
		
		.copyright,
		.profile {
			opacity:0;
		}
	}
	
	.sidebar {
		background:colors(black);
		width:60px;
		position:absolute;
		top:0;
		left:0;
		bottom:0;
		
		.sidebar-container {
			position:absolute;
			top:50%;
			left:0;
			right:0;
			@include prefix('transform',translate3d(0,-50%,0));
		}
		

		
		a {
			background-repeat:no-repeat;
			background-position:center 10px;
			background-size:30px 30px;
			color:colors(gray-5);
			display:block;
			font-size:13px;
			letter-spacing:-0.02em;
			padding:35px 0 0 0;
			position:relative;
			text-align:center;
			
			span {
				background:colors(blue);
				@include prefix('border-radius',2px);
				color:colors(white);
				line-height:14px;
				padding:0 3px;
				position:absolute;
				top:10px;
				right:10px;
			}
			
			
			&:nth-child(1) { background-image:url(../img/layout/home@3x.png); }
			&:nth-child(2) { background-image:url(../img/layout/messages@3x.png); }
			&:nth-child(3) { background-image:url(../img/layout/wishlist@3x.png); }
			&:nth-child(4) { background-image:url(../img/layout/account@3x.png); }
			&:nth-child(5) { background-image:url(../img/layout/help@3x.png); }
			&:nth-child(6) { background-image:url(../img/layout/more@3x.png); }
		}
	}
}

.expanded {
	.navigation {
		top: 0; 
		bottom:0;
		
		.navigation-head {
			visibility:visible; 
			opacity:1;
			margin-bottom:0px;
		}
		
		.navigation-body {
		}
	}
	
	.profile, 
	.help, 
	.copyright {
		opacity:0;
		visibility:hidden; 
	}
}

.semi-expanded {
	.navigation {
		.navigation-head {
			visibility:visible; 
			opacity:1;
			margin-bottom:0px;
		}
	}
}

.preview-aside {
	color:colors(white);
	position:absolute;
	top:0;
	right:0;
	
	a {
		color:colors(black);
		display:block;
		float:right;
		
		&:hover {
			color:colors(blue);
		}
		
		.icons {
			height:47px;
			line-height:47px;
			width:42px;
		}
	}
}

.preview-body { 
	background:colors(black);
}

.preview-list {
	color:colors(black);
	float:left;
	font-size:20px;
	font-weight:100;
	position:absolute;
	left:80px;
	text-align:left;
	display:none;
	
	.current {
		background:url(../img/layout/selector_arrow.jpg) no-repeat right top;
		background-size:auto 100%;
		border-left:solid 1px colors(gray-2);
		border-right:solid 1px colors(gray-2);
		cursor:pointer;
		padding:12px;
		width:160px;
	}
}

.preview-dropdown {
	position:absolute;
	
	a {
		display:block;
		padding:8px 12px;
	}
}

.preview-branding {
	display:block;
	float:left;
	padding:5px;
	position:absolute;
	left:15px;
	width:37px;
}

.preview-header {
	background: colors(white);
	border-bottom:solid 1px colors(gray-2);
	color:colors(white);
	position:fixed;
	top:0;
	left:0;
	right:0;
	text-align:center;
	z-index:9999;
}

.preview-main {
	text-align:center;
	padding:20px;
	position:fixed;
	top:47px;
	left:0;
	right:0;
	bottom:0;
	@include prefix('box-sizing',border-box);
}

.preview-nav {
	
	display:inline-block;
	margin:10px auto 0;

	a {
		border:solid 1px colors(black);
		color:colors(black);
		display:inline-block;
		float:left;
		font-weight:500;
		margin:0 -1px 0 0;
		padding:2px 0;
		text-align:center;
		width:100px;
		
		&:hover {
			color:colors(black);
		}
		
		&:first-child{
			border-radius:3px 0 0 3px;
		}
		
		&:last-child{
			border-radius:0 3px 3px 0;
		}
	}
	
	a.selected {
		background:colors(black);
		border:solid 1px colors(black);
		color:colors(white);
	}

}

footer { }